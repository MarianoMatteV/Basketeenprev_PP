<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Videochamada</title>
    <link rel="stylesheet" href="../static/videoChamada.css">
    <script src="https://kit.fontawesome.com/8a3618c51f.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="voltar">
                <a href="../../paginaInicial/index.html" title="Voltar">
                    <i class="fa-solid fa-arrow-left fa-2x"></i>
                </a>
            </div>
            <h1>Videochamada</h1>
            <div class="status" id="status">
                <span class="status-dot"></span>
                <span class="status-text">Desconectado</span>
            </div>
        </header>

        <div class="main-content">
            <!-- Área de entrada de sala -->
            <div class="room-section" id="roomSection">
                <div class="room-card">
                    <h2>Entrar em uma Sala</h2>
                    <div class="input-group">
                        <input 
                            type="text" 
                            id="roomInput" 
                            placeholder="Digite o ID da sala"
                            class="room-input"
                        >
                        <button id="joinBtn" class="btn btn-primary">Entrar</button>
                    </div>
                    <div class="divider">
                        <span>OU</span>
                    </div>
                    <button id="createBtn" class="btn btn-secondary">Criar Nova Sala</button>
                    <div id="roomIdDisplay" class="room-id-display"></div>
                </div>
            </div>

            <!-- Área de vídeo -->
            <div class="video-section" id="videoSection" style="display: none;">
                <div class="video-grid">
                    <div class="video-container">
                        <video id="localVideo" autoplay muted playsinline></video>
                        <div class="video-label">Você</div>
                    </div>
                    <div class="video-container">
                        <video id="remoteVideo" autoplay playsinline></video>
                        <div class="video-label">Participante</div>
                        <div class="waiting-message" id="waitingMessage">
                            Aguardando participante...
                        </div>
                    </div>
                </div>

                <!-- Controles -->
                <div class="controls">
                    <button id="toggleAudio" class="control-btn active" title="Desligar microfone">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                            <line x1="12" y1="19" x2="12" y2="23"></line>
                            <line x1="8" y1="23" x2="16" y2="23"></line>
                        </svg>
                    </button>
                    
                    <button id="toggleVideo" class="control-btn active" title="Desligar câmera">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="23 7 16 12 23 17 23 7"></polygon>
                            <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
                        </svg>
                    </button>
                    
                    <button id="hangupBtn" class="control-btn hangup" title="Desligar">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="../static/client.js"></script>
</body>
</html>
